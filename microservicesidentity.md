# Identity in a microservice architecture

A natural question to ask if one has a microservices based architecture, or if one is considering going down this path, is to ask oneself if this is suitable for identity and how this is handled. Indeed microservices could be considered a good fit for identity.

Much like the need for evaluating if microservices is right in general for your architecture it might not be a good fit for every identity use case. In the case of Fabrikam, Inc. however their diverse identity needs means they can leverage this for authentication and authorization as well.

This will not be a trip down memory lane with regards to authN/authZ frameworks in the .NET space, but suffice it to say there have been different ways to solve the "login problem". Whether they have been easy or hard to implement is besides this article, but one could say that combining different forms of authentication has been difficult. Some of the restrictions have been dictated by the underlying platform; for instance basic authentication and forms-based authentication have had conflicts running in parallell on Internet Information Services (IIS), regardless of the code in your web apps. On the other hand even with a working forms-based configuration it has been hard to combine different identity providers in the same web app without creating a lot of extra supporting code.

While identity is still a topic that requires a fair amount of thinking through newer versions of technologies have made things simpler in general. However this doesn't mean there are no remaining challenges. For Fabrikam, Inc. that will need to support a variety of customers and integration points it is still possible to run into issues combining everything in a monolith. For these reasons a microservice architecture is well suited. The partner integrations using Azure AD B2B can run in one container, and the customer-facing interface using Azure AD B2C can run in a different container.